<!DOCTYPE html>
<html lang="en">
<head>
    <!--utf-8一个中文字符占用3个字节，一个英文字符使用一个字节-->
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    
</style>
<body>

</body>
<script>
    function init() {
      // @--创建Blob对象实例
      let content = ['测试1', '测试2', '测试3'];
      let blob = new Blob(content, { type: 'text/plain' });
      let newBlob = blob.slice(0, 6, 'text/plain');
      let content1 = ['<div id="box"><p class="pra">a paragraph</p></div>'];
      let blob1 = new Blob(content1, { type: 'text/html' });

      // @--创建FileReader
      // FileReader 对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，
      // 使用 File 或 Blob 对象指定要读取的文件或数据。
      let reader = new FileReader();
      reader.addEventListener('load', function () { // 监听load方法
        console.log(reader.result);
      });
      // FileReader可以将文件读取成三种格式的数据
      // 1.将 Blob 或者 File 对象转根据特殊的编码格式转化为内容(字符串形式), 默认编码是 utf-8
      // reader.readAsText(blob1, 'utf-8');
      // 2. 读取完成后，result属性将包含一个 ArrayBuffer 对象表示所读取的文件的数据
      // reader.readAsArrayBuffer(blob);
      // 3. 读取完成后，result属性将包含一个 data:URL 格式的字符串(base64编码)
      reader.readAsDataURL(blob);

      // 读取newBlob对象
      let reader1 = new FileReader();
      reader1.addEventListener('load', function () {
        console.log(reader1.result);
      });
      reader1.readAsText(newBlob);
    }

    window.onload = function () {
      init();
      let bb = [{"x":"设备1","y":120,"s":1},
        {"x":"设备2","y":130,"s":1},
        {"x":"设备3","y":180,"s":1},
        {"x":"设备4","y":100,"s":1},
        {"x":"设备5","y":80,"s":1},
        {"x":"设备6","y":200,"s":1},
        {"x":"设备7","y":170,"s":1},
        {"x":"设备8","y":150,"s":1},
        {"x":"设备9","y":60,"s":1},
        {"x":"设备10","y":140,"s":1},
        {"x":"设备11","y":190,"s":1},
        {"x":"设备12","y":210,"s":1},
        {"x":"设备13","y":120,"s":1},
        {"x":"设备14","y":160,"s":1}
      ];
      console.log(aa(bb));
    }

    let aa = (arr)=>{
      console.log(arr)
      let a=arr[0].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a1=arr[1].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a2=arr[2].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a3=arr[3].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a4=arr[4].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a5=arr[5].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a6=arr[6].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a7=arr[7].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a8=arr[8].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a9=arr[9].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a10=arr[10].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a11=arr[11].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a12=arr[12].y+parseInt(Math.random()*(10-1+1)+1,10);
      let a13=arr[13].y+parseInt(Math.random()*(10-1+1)+1,10);
      return [{"x":"设备1","y":a,"s":1},{"x":"设备2","y":a1,"s":1},{"x":"设备3","y":a2,"s":1},{"x":"设备4","y":a3,"s":1},{"x":"设备5","y":a4,"s":1},
        {"x":"设备6","y":a5,"s":1},{"x":"设备7","y":a6,"s":1},{"x":"设备8","y":a7,"s":1},{"x":"设备9","y":a8,"s":1},{"x":"设备10","y":a9,"s":1},
        {"x":"设备11","y":a10,"s":1},{"x":"设备12","y":a11,"s":1},{"x":"设备13","y":a12,"s":1},{"x":"设备14","y":a13,"s":1}
      ]
    }

</script>
</html>